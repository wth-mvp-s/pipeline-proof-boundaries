

# E001 — Artefact de build immuable par conception

Cette règle définit une contrainte structurelle du pipeline CI/CD.
Un artefact de build n’est jamais modifié ; toute modification implique la production d’un nouvel artefact, c’est-à-dire d’une nouvelle version.


### Problème
L’artefact ne possède ni identité stable ni périmètre explicite.

### Conséquence
En cas d’incident, il est impossible d’isoler la partie en cause.
Tout le système doit être redéployé, testé et analysé.

### Impact
Augmentation du temps d’incident et du risque de régression secondaire.


Les implémentations suivantes illustrent des causes techniques fréquentes,
et non des symptômes ou des conséquences observées en production.


## Implémentations fréquemment observées dans les pipelines CI/CD à l’origine du problème

- Publication d’un répertoire comme artefact

  Exemple de structure publiée :

        dist/
        target/
        staging/
        ou l’intégralité du workspace

- Résolution de l’état effectif de l’application en dehors du build

  Exemple de résolution hors build :

        au moment de la publication,
        lors du déploiement,
        ou partiellement à l’exécution
        Des variables d’environnement ou fichiers de configuration modifient le comportement après le build

- Réutilisation du workspace comme espace de travail mutable

  Exemple de workspace réutilisé :

        plusieurs étapes,
        plusieurs jobs,
        ou plusieurs stages
        Les fichiers sont progressivement écrasés, enrichis ou modifiés
