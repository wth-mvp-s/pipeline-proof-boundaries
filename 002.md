# E002 — Frontière explicite de clôture de l’artefact (build / runtime)

Cette règle définit une contrainte structurelle du pipeline CI/CD.  
Le pipeline doit indiquer explicitement le moment où l’artefact est considéré comme clos,
après quoi le runtime ne doit plus contribuer à sa construction.

---

### Problème
La frontière entre build et runtime n’est pas explicitement définie ni techniquement défendue.

Le pipeline ne garantit pas :
- à quel moment l’artefact devient immuable,
- que le runtime ne modifie ni son contenu ni sa logique,
- que la construction de l’artefact est entièrement terminée avant la publication.

---

### Conséquence
Le runtime participe implicitement à la construction de l’artefact.

En cas d’incident, il devient impossible de déterminer
si le problème provient du build, du déploiement ou de l’exécution.

---

### Impact
- Rupture de la frontière build / runtime
- Difficulté d’analyse et de reproductibilité
- Perte de garanties sur l’intégrité de l’artefact déployé

---

Les implémentations suivantes illustrent des causes techniques fréquentes,
et non des symptômes observés en production.

---

## Implémentations fréquemment observées dans les pipelines CI/CD à l’origine du problème

- Artefact finalisé au runtime

  Exemple de construction tardive :

        Une partie de l’application est assemblée
        ou modifiée lors du démarrage,
        après la phase de build.

- Mélange build applicatif et logique de déploiement

  Exemple de frontière floue :

        Le pipeline copie ou transforme des fichiers
        (ex. dist/ vers wwwroot)
        lors de la publication ou au runtime.

- Absence de moment explicite de clôture de l’artefact

  Exemple de clôture implicite :

        Aucun point précis ne marque
        la fin définitive de la construction
        de l’artefact.
